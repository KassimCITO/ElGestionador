{% extends "base.html" %}

{% block title %}Editar Usuario{% endblock %}

{% block content %}
<h3 class="mb-4">Editar Usuario</h3>
<form method="post">
    <div class="mb-3">
        <label for="usuario" class="form-label">Nombre de Usuario</label>
        <input type="text" class="form-control" id="usuario" name="usuario" value="{{ usuario.usuario }}" required readonly>
    </div>
    <div class="mb-3">
        <label for="clave" class="form-label">Nueva Contrase√±a (opcional)</label>
        <input type="password" class="form-control" id="clave" name="clave">
    </div>
    <div class="mb-3">
        <label for="rol" class="form-label">Rol</label>
        <select class="form-select" id="rol" name="rol">
            <option value="user" {% if usuario.rol == 'user' %}selected{% endif %}>Usuario</option>
            <option value="admin" {% if usuario.rol == 'admin' %}selected{% endif %}>Administrador</option>
        </select>
    </div>
    <h5 class="mt-4">Permisos</h5>
    <div class="form-check">
        <input class="form-check-input" type="checkbox" id="perm_lectura" name="perm_lectura" {% if usuario.perm_lectura %}checked{% endif %}>
        <label class="form-check-label" for="perm_lectura">Permitir Lectura</label>
    </div>
    <div class="form-check">
        <input class="form-check-input" type="checkbox" id="perm_creacion" name="perm_creacion" {% if usuario.perm_creacion %}checked{% endif %}>
        <label class="form-check-label" for="perm_creacion">Permitir Crear</label>
    </div>
    <div class="form-check">
        <input class="form-check-input" type="checkbox" id="perm_edicion" name="perm_edicion" {% if usuario.perm_edicion %}checked{% endif %}>
        <label class="form-check-label" for="perm_edicion">Permitir Editar</label>
    </div>
    <div class="form-check mb-4">
        <input class="form-check-input" type="checkbox" id="perm_impresion" name="perm_impresion" {% if usuario.perm_impresion %}checked{% endif %}>
        <label class="form-check-label" for="perm_impresion">Permitir Imprimir</label>
    </div>
    <button type="submit" class="btn btn-primary">Guardar Cambios</button>
    <a href="{{ url_for('usuarios') }}" class="btn btn-secondary">Cancelar</a>
</form>
{% endblock %}